<%- partial ('partials/navbar.ejs') %>

<div class="container">
  <div class="row">
    	<div class="col-lg-12">
    		<h2>Roles Management</h2>
    		<hr>
    		 <div>

            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
              <% for(var i=0; i<allRoles.length; i++) {%>

                <li role="presentation" <% if (i==0) { %> class="active" <% } %>>
                  <a href="#<%= allRoles[i].name %>" aria-controls="home" role="tab" data-toggle="tab"><strong><%= allRoles[i].fullName %></strong> <br><small><%= allRoles[i].description %></small></a>
                </li>

              <% } %>
            </ul>
            <form ng-controller="ctrlRoles" id="rolesForm" ng-submit="save()" ng-init="init()">
              <!-- Tab panes -->
              <div class="tab-content">

                  <% for(var i=0; i<allRoles.length; i++) {%>

                    <div role="tabpanel" class="tab-pane <% if (i==0) { %> active <% } %>" id="<%= allRoles[i].name %>" >
                    
                      <ul>
                        <% for(var j=0; j<allMenus.length; j++) {%>
                          <li>
                            <input type="checkbox" value="<%= allRoles[i].name %>" ng-checked="data.<%= allRoles[i].name %>.indexOf('<%= allMenus[j].name %>') > -1" ng-click="toggleSelection('<%= allRoles[i].name %>', '<%= allMenus[j].name %>')">
                            <label> <%= allMenus[j].name %> </label>
                          </li>
                        <% } %>
                      </ul>
                    </div>

                  <% } %>

              </div>

              <div class="btn-row">
                <button class="btn btn-primary pull-right" type="submit">Submit</button>
              </div>

              
          </form>
          </div>
    	</div>
  </div>
</div>
